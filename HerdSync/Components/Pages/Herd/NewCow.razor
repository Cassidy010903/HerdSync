@using HerdSync.Shared.DTO.Animal

<MudDialog>
    <DialogContent>
        <MudGrid>
            <MudItem xs="12" sm="6" md="6">
                <MudSelect @bind-Value="species.AnimalTypeCode" Label="Animal Type Code" Variant="MudBlazor.Variant.Outlined" ShrinkLabel Required>
                    @foreach (var type in animalTypes)
                    {
                        <MudSelectItem Value="@type.AnimalTypeCode">@type.AnimalTypeName</MudSelectItem>
                    }
                </MudSelect>

                <MudTextField ShrinkLabel
                              @bind-Value="species.DisplayIdentifier"
                              Label="Display Identifier"
                              Variant="MudBlazor.Variant.Outlined"
                              Adornment="Adornment.Start"
                              AdornmentText="#"
                              AdornmentColor="Color.Primary"
                              Required/>

                <MudTextField ShrinkLabel
                              @bind-Value="species.BirthYear"
                              Label="Birth Year"
                              Variant="MudBlazor.Variant.Outlined" />

                <MudTextField ShrinkLabel
                              @bind-Value="species.Weight"
                              Label="Weight"
                              Variant="MudBlazor.Variant.Outlined"
                              Adornment="Adornment.End"
                              AdornmentText="kg"
                              AdornmentColor="Color.Info" />

                              <MudRadioGroup @bind-Value="species.Gender">
                                    <MudRadio Value="@("M")" Color="Color.Primary">Male</MudRadio>
                                    <MudRadio Value="@("F")" Color="Color.Primary">Female</MudRadio>
                                    <MudRadio Value="@("U")" Color="Color.Primary">Unknown</MudRadio>
                                </MudRadioGroup>

                                <MudAutocomplete T="AnimalDTO"
                 @bind-Value="SelectedMother"
                 SearchFunc="Search"
                 ToStringFunc="@(a => a?.DisplayIdentifier ?? string.Empty)"
                 MinCharacters="0"
                 Variant="Variant.Outlined"
                 Label="Mother"
                 Placeholder="Please select mother" />
            </MudItem>

            <MudItem xs="12" sm="6" md="6">
                              
<MudAutocomplete T="AnimalDTO"
                 @bind-Value="SelectedFather"
                 SearchFunc="Search"
                 ToStringFunc="@(a => a?.DisplayIdentifier ?? string.Empty)"
                 MinCharacters="0"
                 Variant="Variant.Outlined"
                 Label="Father"
                 Placeholder="Please select father" />


                              <MudSwitch @bind-Value="species.IsBranded" Label="Branded" Color="Color.Primary" />

                              <MudTextField ShrinkLabel
                              @bind-Value="species.MedicalNote"
                              Label="Medical Note"
                              Variant="MudBlazor.Variant.Outlined" />

                              <MudNumericField @bind-Value="species.TotalPregnancies" Label="Total Pregnancies" Variant="MudBlazor.Variant.Outlined" Min="0" />

                              <MudNumericField @bind-Value="species.TotalCalves" Label="Total Offspring" Variant="MudBlazor.Variant.Outlined" Min="0" />

                              <MudDatePicker Label="Last Pregnancy" Editable="true" @bind-Date="species.LastPregnancyDate" DateFormat="yyyy-MM-dd" Placeholder="Select Date" Variant="MudBlazor.Variant.Outlined" />
            </MudItem>
        </MudGrid>
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="Cancel">Cancel</MudButton>
        <MudButton Style="@($"color:{MudBlazor.Colors.Teal.Lighten2}; background:{MudBlazor.Colors.Teal.Lighten5};")"
                   OnClick="Submit">OK</MudButton>
    </DialogActions>
</MudDialog>